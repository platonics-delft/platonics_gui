parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"aCiR":[function(require,module,exports) {
module.exports=function(o,n,t){n.forEach(function(n){var r=t[n];o.prototype[n]=function(o){return o.ros=this,new r(o)}})};
},{}],"kzT2":[function(require,module,exports) {
module.exports="undefined"!=typeof window?window.WebSocket:WebSocket;
},{}],"T3DF":[function(require,module,exports) {
var r=arguments[3],e=arguments[4],t=arguments[5],o=JSON.stringify;module.exports=function(a,n){for(var f,i=Object.keys(t),u=0,s=i.length;u<s;u++){var l=i[u],w=t[l].exports;if(w===a||w&&w.default===a){f=l;break}}if(!f){f=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(u=0,s=i.length;u<s;u++){d[l=i[u]]=l}e[f]=["function(require,module,exports){"+a+"(self); }",d]}var v=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={};c[f]=f,e[v]=["function(require,module,exports){var f = require("+o(f)+");(f.default ? f.default : f)(self);}",c];var m={};!function r(t){m[t]=!0;for(var o in e[t][1]){var a=e[t][1][o];m[a]||r(a)}}(v);var p="("+r+")({"+Object.keys(m).map(function(r){return o(r)+":["+e[r][0]+","+o(e[r][1])+"]"}).join(",")+"},{},["+o(v)+"])",b=window.URL||window.webkitURL||window.mozURL||window.msURL,g=new Blob([p],{type:"text/javascript"});if(n&&n.bare)return g;var h=b.createObjectURL(g),j=new Worker(h);return j.objectURL=h,j};
},{}],"idW5":[function(require,module,exports) {
function e(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.i=function(e){return e},n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="/",n.oe=function(e){throw console.error(e),e};var t=n(n.s=ENTRY_MODULE);return t.default||t}var r="[\\.|\\-|\\+|\\w|/|@]+",n="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+r+").*?\\)";function t(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e){return!isNaN(1*e)}function i(e,i,u){var c={};c[u]=[];var a=i.toString(),f=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!f)return c;for(var s,l=f[1],p=new RegExp("(\\\\n|\\W)"+t(l)+n,"g");s=p.exec(a);)"dll-reference"!==s[3]&&c[u].push(s[3]);for(p=new RegExp("\\("+t(l)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+n,"g");s=p.exec(a);)e[s[2]]||(c[u].push(s[1]),e[s[2]]=__webpack_require__(s[1]).m),c[s[2]]=c[s[2]]||[],c[s[2]].push(s[4]);for(var w=Object.keys(c),_=0;_<w.length;_++)for(var d=0;d<c[w[_]].length;d++)o(c[w[_]][d])&&(c[w[_]][d]=1*c[w[_]][d]);return c}function u(e){return Object.keys(e).reduce(function(r,n){return r||e[n].length>0},!1)}function c(e,r){for(var n={main:[r]},t={main:[]},o={main:{}};u(n);)for(var c=Object.keys(n),a=0;a<c.length;a++){var f=c[a],s=n[f].pop();if(o[f]=o[f]||{},!o[f][s]&&e[f][s]){o[f][s]=!0,t[f]=t[f]||[],t[f].push(s);for(var l=i(e,e[f][s],f),p=Object.keys(l),w=0;w<p.length;w++)n[p[w]]=n[p[w]]||[],n[p[w]]=n[p[w]].concat(l[p[w]])}}return t}module.exports=function(r,n){n=n||{};var t={main:__webpack_modules__},o=n.all?{main:Object.keys(t.main)}:c(t,r),i="";Object.keys(o).filter(function(e){return"main"!==e}).forEach(function(r){for(var n=0;o[r][n];)n++;o[r].push(n),t[r][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",i=i+"var "+r+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+o[r].map(function(e){return JSON.stringify(e)+": "+t[r][e].toString()}).join(",")+"});\n"}),i=i+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(r))+")({"+o.main.map(function(e){return JSON.stringify(e)+": "+t.main[e].toString()}).join(",")+"}))(self);";var u=new window.Blob([i],{type:"text/javascript"});if(n.bare)return u;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),f=new window.Worker(a);return f.objectURL=a,f};
},{}],"Ykye":[function(require,module,exports) {
var e=e||require("ws");module.exports=function(r){var n=null;function s(e){var n=e.data;n instanceof ArrayBuffer?r.postMessage(n,[n]):r.postMessage(n)}function o(e){r.postMessage({type:e.type})}r.addEventListener("message",function(r){var a=r.data;if("string"==typeof a)n.send(a);else if(a.hasOwnProperty("close"))n.close(),n=null;else{if(!a.hasOwnProperty("uri"))throw"Unknown message to WorkerSocket";var t=a.uri;(n=new e(t)).binaryType="arraybuffer",n.onmessage=s,n.onclose=o,n.onopen=o,n.onerror=o}})};
},{"ws":"kzT2"}],"HYuo":[function(require,module,exports) {
try{var e=require("webworkify")}catch(t){e=require("webworkify-webpack")}var s=require("./workerSocketImpl");function o(o){this.socket_=e(s),this.socket_.addEventListener("message",this.handleWorkerMessage_.bind(this)),this.socket_.postMessage({uri:o})}o.prototype.handleWorkerMessage_=function(e){var s=e.data;if(s instanceof ArrayBuffer||"string"==typeof s)this.onmessage(e);else{var o=s.type;if("close"===o)this.onclose(null);else if("open"===o)this.onopen(null);else{if("error"!==o)throw"Unknown message from workersocket";this.onerror(null)}}},o.prototype.send=function(e){this.socket_.postMessage(e)},o.prototype.close=function(){this.socket_.postMessage({close:!0})},module.exports=o;
},{"webworkify":"T3DF","webworkify-webpack":"idW5","./workerSocketImpl":"Ykye"}],"cIP0":[function(require,module,exports) {
module.exports=function(){return document.createElement("canvas")};
},{}],"cAiV":[function(require,module,exports) {
"use strict";var e=require("canvas"),a=e.Image||window.Image;function t(t,g){var n=new a;n.onload=function(){var a=new e,t=a.getContext("2d");a.width=n.width,a.height=n.height,t.imageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.drawImage(n,0,0);for(var i=t.getImageData(0,0,n.width,n.height).data,o="",r=0;r<i.length;r+=4)o+=String.fromCharCode(i[r],i[r+1],i[r+2]);g(JSON.parse(o))},n.src="data:image/png;base64,"+t}module.exports=t;
},{"canvas":"cIP0"}],"Ypx0":[function(require,module,exports) {
var define;
var global = arguments[3];
var r,t=arguments[3];!function(t,e){"use strict";var n=Math.pow(2,-24),u=Math.pow(2,32),i=Math.pow(2,53);var f={encode:function(r){var t,n=new ArrayBuffer(256),f=new DataView(n),a=0;function o(r){for(var e=n.byteLength,u=a+r;e<u;)e*=2;if(e!==n.byteLength){var i=f;n=new ArrayBuffer(e),f=new DataView(n);for(var o=a+3>>2,s=0;s<o;++s)f.setUint32(4*s,i.getUint32(4*s))}return t=r,f}function s(){a+=t}function c(r){s(o(1).setUint8(a,r))}function h(r){for(var t=o(r.length),e=0;e<r.length;++e)t.setUint8(a+e,r[e]);s()}function l(r,t){var e;t<24?c(r<<5|t):t<256?(c(r<<5|24),c(t)):t<65536?(c(r<<5|25),e=t,s(o(2).setUint16(a,e))):t<4294967296?(c(r<<5|26),function(r){s(o(4).setUint32(a,r))}(t)):(c(r<<5|27),function(r){var t=r%u,e=(r-t)/u,n=o(8);n.setUint32(a,e),n.setUint32(a+4,t),s()}(t))}if(function r(t){var n;if(!1===t)return c(244);if(!0===t)return c(245);if(null===t)return c(246);if(t===e)return c(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=i)return l(0,t);if(-i<=t&&t<0)return l(1,-(t+1))}return c(251),function(r){s(o(8).setFloat64(a,r))}(t);case"string":var u=[];for(n=0;n<t.length;++n){var f=t.charCodeAt(n);f<128?u.push(f):f<2048?(u.push(192|f>>6),u.push(128|63&f)):f<55296?(u.push(224|f>>12),u.push(128|f>>6&63),u.push(128|63&f)):(f=(1023&f)<<10,f|=1023&t.charCodeAt(++n),f+=65536,u.push(240|f>>18),u.push(128|f>>12&63),u.push(128|f>>6&63),u.push(128|63&f))}return l(3,u.length),h(u);default:var v;if(Array.isArray(t))for(l(4,v=t.length),n=0;n<v;++n)r(t[n]);else if(t instanceof Uint8Array)l(2,t.length),h(t);else{var g=Object.keys(t);for(l(5,v=g.length),n=0;n<v;++n){var w=g[n];r(w),r(t[w])}}}}(r),"slice"in n)return n.slice(0,a);for(var v=new ArrayBuffer(a),g=new DataView(v),w=0;w<a;++w)g.setUint8(w,f.getUint8(w));return v},decode:function(r,t,i){var f=new DataView(r),a=0;function o(r,t){return a+=t,r}function s(t){return o(new Uint8Array(r,a,t),t)}function c(){return o(f.getUint8(a),1)}function h(){return o(f.getUint16(a),2)}function l(){return o(f.getUint32(a),4)}function v(){return 255===f.getUint8(a)&&(a+=1,!0)}function g(r){if(r<24)return r;if(24===r)return c();if(25===r)return h();if(26===r)return l();if(27===r)return l()*u+l();if(31===r)return-1;throw"Invalid length encoding"}function w(r){var t=c();if(255===t)return-1;var e=g(31&t);if(e<0||t>>5!==r)throw"Invalid indefinite length element";return e}function p(r,t){for(var e=0;e<t;++e){var n=c();128&n&&(n<224?(n=(31&n)<<6|63&c(),t-=1):n<240?(n=(15&n)<<12|(63&c())<<6|63&c(),t-=2):(n=(15&n)<<18|(63&c())<<12|(63&c())<<6|63&c(),t-=3)),n<65536?r.push(n):(n-=65536,r.push(55296|n>>10),r.push(56320|1023&n))}}"function"!=typeof t&&(t=function(r){return r}),"function"!=typeof i&&(i=function(){return e});var y=function r(){var u,l,y=c(),d=y>>5,U=31&y;if(7===d)switch(U){case 25:return function(){var r=new ArrayBuffer(4),t=new DataView(r),e=h(),u=32768&e,i=31744&e,f=1023&e;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!==f)return f*n;return t.setUint32(0,u<<16|i<<13|f<<13),t.getFloat32(0)}();case 26:return o(f.getFloat32(a),4);case 27:return o(f.getFloat64(a),8)}if((l=g(U))<0&&(d<2||6<d))throw"Invalid length";switch(d){case 0:return l;case 1:return-1-l;case 2:if(l<0){for(var A=[],m=0;(l=w(d))>=0;)m+=l,A.push(s(l));var b=new Uint8Array(m),B=0;for(u=0;u<A.length;++u)b.set(A[u],B),B+=A[u].length;return b}return s(l);case 3:var C=[];if(l<0)for(;(l=w(d))>=0;)p(C,l);else p(C,l);return String.fromCharCode.apply(null,C);case 4:var D;if(l<0)for(D=[];!v();)D.push(r());else for(D=new Array(l),u=0;u<l;++u)D[u]=r();return D;case 5:var V={};for(u=0;u<l||l<0&&!v();++u)V[r()]=r();return V;case 6:return t(r(),l);case 7:switch(l){case 20:return!1;case 21:return!0;case 22:return null;case 23:return e;default:return i(l)}}}();if(a!==r.byteLength)throw"Remaining bytes";return y}};"function"==typeof r&&r.amd?r("cbor/cbor",f):"undefined"!=typeof module&&module.exports?module.exports=f:t.CBOR||(t.CBOR=f)}(this);
},{}],"XL6u":[function(require,module,exports) {
"use strict";var r=Math.pow(2,32),e=!1;function n(){e||(e=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}function t(e){n();for(var t=e.byteLength,a=e.byteOffset,f=t/8,i=e.buffer.slice(a,a+t),y=new Uint32Array(i),o=new Array(f),u=0;u<f;u++){var s=2*u,A=y[s],c=y[s+1];o[u]=A+r*c}return o}function a(e){n();for(var t=e.byteLength,a=e.byteOffset,f=t/8,i=e.buffer.slice(a,a+t),y=new Uint32Array(i),o=new Int32Array(i),u=new Array(f),s=0;s<f;s++){var A=2*s,c=y[A],l=o[A+1];u[s]=c+r*l}return u}function f(r,e){var n=r.byteLength,t=r.byteOffset;return new e(r.buffer.slice(t,t+n))}var i={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},y={71:t,79:a};function o(r,e){return e in i?f(r,i[e]):e in y?y[e](r):r}"undefined"!=typeof module&&module.exports&&(module.exports=o);
},{}],"c2Yk":[function(require,module,exports) {
"use strict";var e=require("../util/decompressPng"),n=require("cbor-js"),t=require("../util/cborTypedArrayTags"),o=null;function i(i){var r=null;function s(e){"publish"===e.op?i.emit(e.topic,e.msg):"service_response"===e.op?i.emit(e.id,e):"call_service"===e.op?i.emit(e.service,e):"status"===e.op&&(e.id?i.emit("status:"+e.id,e):i.emit("status",e))}function a(n,t){"png"===n.op?e(n.data,t):t(n)}return i.transportOptions.decoder&&(r=i.transportOptions.decoder),{onopen:function(e){i.isConnected=!0,i.emit("connection",e)},onclose:function(e){i.isConnected=!1,i.emit("close",e)},onerror:function(e){i.emit("error",e)},onmessage:function(e){if(r)r(e.data,function(e){s(e)});else if("undefined"!=typeof Blob&&e.data instanceof Blob)!function(e,n){if(!o)throw"Cannot process BSON encoded message without BSON header.";var t=new FileReader;t.onload=function(){var e=new Uint8Array(this.result),t=o.deserialize(e);n(t)},t.readAsArrayBuffer(e)}(e.data,function(e){a(e,s)});else if(e.data instanceof ArrayBuffer){s(n.decode(e.data,t))}else{a(JSON.parse("string"==typeof e?e:e.data),s)}}}}"undefined"!=typeof bson&&(o=bson().BSON),module.exports=i;
},{"../util/decompressPng":"cAiV","cbor-js":"Ypx0","../util/cborTypedArrayTags":"XL6u"}],"Dwny":[function(require,module,exports) {
var e=require("object-assign");function i(i){e(this,i)}module.exports=i;
},{"object-assign":"J4Nk"}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"gzBW":[function(require,module,exports) {
var process = require("process");
var define;
var e,t=require("process");!function(r){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s="object"==typeof t&&"function"==typeof t.nextTick,o="function"==typeof Symbol,l="object"==typeof Reflect,a="function"==typeof setImmediate?setImmediate:setTimeout,f=o?l&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function h(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==r&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function u(e,r){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+r+"."),void 0!==t&&t.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,t.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var p=function(e,t,r){var n=arguments.length;switch(n){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,r];default:for(var i=new Array(n);n--;)i[n]=arguments[n];return i}};function v(e,t){for(var n={},i=e.length,s=t?t.length:0,o=0;o<i;o++)n[e[o]]=o<s?t[o]:r;return n}function y(e,t,r){var n,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(r.on||r.off)&&(n=r.on,i=r.off),t.addEventListener?(n=t.addEventListener,i=t.removeEventListener):t.addListener?(n=t.addListener,i=t.removeListener):t.on&&(n=t.on,i=t.off),!n&&!i)throw Error("target does not implement any known event API");if("function"!=typeof n)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=n,this._off=i;var s=e._observers;s?s.push(this):e._observers=[this]}function _(e,t,i,s){var o=Object.assign({},t);if(!e)return o;if("object"!=typeof e)throw TypeError("options must be an object");var l,a,f,h=Object.keys(e),c=h.length;function u(e){throw Error('Invalid "'+l+'" option value'+(e?". Reason: "+e:""))}for(var p=0;p<c;p++){if(l=h[p],!s&&!n.call(t,l))throw Error('Unknown "'+l+'" option');(a=e[l])!==r&&(f=i[l],o[l]=f?f(a,u):a)}return o}function m(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function d(e){var t="value must be type of "+e.join("|"),r=e.length,n=e[0],i=e[1];return 1===r?function(e,r){if(typeof e===n)return e;r(t)}:2===r?function(e,r){var s=typeof e;if(s===n||s===i)return e;r(t)}:function(n,i){for(var s=typeof n,o=r;o-- >0;)if(s===e[o])return n;i(t)}}Object.assign(y.prototype,{subscribe:function(e,t,r){var n=this,i=this._target,s=this._emitter,o=this._listeners,l=function(){var n=p.apply(null,arguments),o={data:n,name:t,original:e};r?!1!==r.call(i,o)&&s.emit.apply(s,[o.name].concat(n)):s.emit.apply(s,[t].concat(n))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!n._onNewListener?(this._onNewListener=function(r){r===t&&null===o[e]&&(o[e]=l,n._on.call(i,e,l))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(r){r===t&&!s.hasListeners(r)&&o[e]&&(o[e]=null,n._off.call(i,e,l))},o[e]=null,s.on("removeListener",this._onRemoveListener)):(o[e]=l,n._on.call(i,e,l))},unsubscribe:function(e){var t,r,n,i=this,s=this._listeners,o=this._emitter,l=this._off,a=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function h(){i._onNewListener&&(o.off("newListener",i._onNewListener),o.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=L.call(o,i);o._observers.splice(e,1)}if(e){if(!(t=s[e]))return;l.call(a,e,t),delete s[e],--this._listenersCount||h()}else{for(n=(r=f(s)).length;n-- >0;)e=r[n],l.call(a,e,s[e]);this._listeners={},this._listenersCount=0,h()}}});var b=d(["function"]),w=d(["object","function"]);function g(e,t,r){var n,i,s,o=0,l=new e(function(a,f,h){function c(){i&&(i=null),o&&(clearTimeout(o),o=0)}r=_(r,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),n=!r.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof h;var u=function(e){c(),a(e)},p=function(e){c(),f(e)};n?t(u,p,h):(i=[function(e){p(e||Error("canceled"))}],t(u,p,function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)}),s=!0),r.timeout>0&&(o=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",o=0,l.cancel(e),f(e)},r.timeout))});return n||(l.cancel=function(e){if(i){for(var t=i.length,r=1;r<t;r++)i[r](e);i[0](e),i=null}}),l}function L(e){var t=this._observers;if(!t)return-1;for(var r=t.length,n=0;n<r;n++)if(t[n]._target===e)return n;return-1}function E(e,t,r,n,i){if(!r)return null;if(0===n){var s=typeof t;if("string"===s){var o,l,a=0,h=0,c=this.delimiter,u=c.length;if(-1!==(l=t.indexOf(c))){o=new Array(5);do{o[a++]=t.slice(h,l),h=l+u}while(-1!==(l=t.indexOf(c,h)));o[a++]=t.slice(h),t=o,i=a}else t=[t],i=1}else"object"===s?i=t.length:(t=[t],i=1)}var p,v,y,_,m,d,b,w=null,g=t[n],L=t[n+1];if(n===i)r._listeners&&("function"==typeof r._listeners?(e&&e.push(r._listeners),w=[r]):(e&&e.push.apply(e,r._listeners),w=[r]));else{if("*"===g){for(l=(d=f(r)).length;l-- >0;)"_listeners"!==(p=d[l])&&(b=E(e,t,r[p],n+1,i))&&(w?w.push.apply(w,b):w=b);return w}if("**"===g){for((m=n+1===i||n+2===i&&"*"===L)&&r._listeners&&(w=E(e,t,r,i,i)),l=(d=f(r)).length;l-- >0;)"_listeners"!==(p=d[l])&&("*"===p||"**"===p?(r[p]._listeners&&!m&&(b=E(e,t,r[p],i,i))&&(w?w.push.apply(w,b):w=b),b=E(e,t,r[p],n,i)):b=E(e,t,r[p],p===L?n+2:n,i),b&&(w?w.push.apply(w,b):w=b));return w}r[g]&&(w=E(e,t,r[g],n+1,i))}if((v=r["*"])&&E(e,t,v,n+1,i),y=r["**"])if(n<i)for(y._listeners&&E(e,t,y,i,i),l=(d=f(y)).length;l-- >0;)"_listeners"!==(p=d[l])&&(p===L?E(e,t,y[p],n+2,i):p===g?E(e,t,y[p],n+1,i):((_={})[p]=y[p],E(e,t,{"**":_},n+1,i)));else y._listeners?E(e,t,y,i,i):y["*"]&&y["*"]._listeners&&E(e,t,y["*"],i,i);return w}function k(e){for(var t,r,n,i=f(e),s=i.length;s-- >0;)(t=e[r=i[s]])&&(n=!0,"_listeners"===r||k(t)||delete e[r]);return n}function j(e,t,r){this.emitter=e,this.event=t,this.listener=r}function T(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}j.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},T.EventEmitter2=T,T.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var s=this;function o(t){if("object"!=typeof t)throw TypeError("events must be an object");var r,i=n.reducers,o=L.call(s,e);r=-1===o?new y(s,e,n):s._observers[o];for(var l,a=f(t),h=a.length,c="function"==typeof i,u=0;u<h;u++)l=a[u],r.subscribe(l,t[l]||l,c?i:i&&i[l])}return n=_(n,{on:r,off:r,reducers:r},{on:b,off:b,reducers:w}),i(t)?o(v(t)):o("string"==typeof t?v(t.split(/\s+/)):t),this},T.prototype.stopListeningTo=function(e,t){var r=this._observers;if(!r)return!1;var n,i=r.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)n=r[i],e&&n._target!==e||(n.unsubscribe(t),s=!0);return s},T.prototype.delimiter=".",T.prototype.setMaxListeners=function(e){e!==r&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},T.prototype.getMaxListeners=function(){return this._maxListeners},T.prototype.event="",T.prototype.once=function(e,t,r){return this._once(e,t,!1,r)},T.prototype.prependOnceListener=function(e,t,r){return this._once(e,t,!0,r)},T.prototype._once=function(e,t,r,n){return this._many(e,1,t,r,n)},T.prototype.many=function(e,t,r,n){return this._many(e,t,r,!1,n)},T.prototype.prependMany=function(e,t,r,n){return this._many(e,t,r,!0,n)},T.prototype._many=function(e,t,r,n,i){var s=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&s.off(e,o),r.apply(this,arguments)}return o._origin=r,this._on(e,o,n,i)},T.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,r,n,i,s,l=arguments[0],a=this.wildcard;if("newListener"===l&&!this._newListener&&!this._events.newListener)return!1;if(a&&(e=l,"newListener"!==l&&"removeListener"!==l&&"object"==typeof l)){if(r=l.length,o)for(n=0;n<r;n++)if("symbol"==typeof l[n]){s=!0;break}s||(l=l.join(this.delimiter))}var f,c=arguments.length;if(this._all&&this._all.length)for(n=0,r=(f=this._all.slice()).length;n<r;n++)switch(this.event=l,c){case 1:f[n].call(this,l);break;case 2:f[n].call(this,l,arguments[1]);break;case 3:f[n].call(this,l,arguments[1],arguments[2]);break;default:f[n].apply(this,arguments)}if(a)f=[],E.call(this,f,e,this.listenerTree,0,r);else{if("function"==typeof(f=this._events[l])){switch(this.event=l,c){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];f.apply(this,t)}return!0}f&&(f=f.slice())}if(f&&f.length){if(c>3)for(t=new Array(c-1),i=1;i<c;i++)t[i-1]=arguments[i];for(n=0,r=f.length;n<r;n++)switch(this.event=l,c){case 1:f[n].call(this);break;case 2:f[n].call(this,arguments[1]);break;case 3:f[n].call(this,arguments[1],arguments[2]);break;default:f[n].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===l)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},T.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,r,n,i,s,l=arguments[0],a=this.wildcard;if("newListener"===l&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(a&&(e=l,"newListener"!==l&&"removeListener"!==l&&"object"==typeof l)){if(n=l.length,o)for(i=0;i<n;i++)if("symbol"==typeof l[i]){t=!0;break}t||(l=l.join(this.delimiter))}var f,c=[],u=arguments.length;if(this._all)for(i=0,n=this._all.length;i<n;i++)switch(this.event=l,u){case 1:c.push(this._all[i].call(this,l));break;case 2:c.push(this._all[i].call(this,l,arguments[1]));break;case 3:c.push(this._all[i].call(this,l,arguments[1],arguments[2]));break;default:c.push(this._all[i].apply(this,arguments))}if(a?(f=[],E.call(this,f,e,this.listenerTree,0)):f=this._events[l],"function"==typeof f)switch(this.event=l,u){case 1:c.push(f.call(this));break;case 2:c.push(f.call(this,arguments[1]));break;case 3:c.push(f.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(u-1),s=1;s<u;s++)r[s-1]=arguments[s];c.push(f.apply(this,r))}else if(f&&f.length){if(f=f.slice(),u>3)for(r=new Array(u-1),s=1;s<u;s++)r[s-1]=arguments[s];for(i=0,n=f.length;i<n;i++)switch(this.event=l,u){case 1:c.push(f[i].call(this));break;case 2:c.push(f[i].call(this,arguments[1]));break;case 3:c.push(f[i].call(this,arguments[1],arguments[2]));break;default:c.push(f[i].apply(this,r))}}else if(!this.ignoreErrors&&!this._all&&"error"===l)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(c)},T.prototype.on=function(e,t,r){return this._on(e,t,!1,r)},T.prototype.prependListener=function(e,t,r){return this._on(e,t,!0,r)},T.prototype.onAny=function(e){return this._onAny(e,!1)},T.prototype.prependAny=function(e){return this._onAny(e,!0)},T.prototype.addListener=T.prototype.on,T.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},T.prototype._on=function(e,n,i,o){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||h.call(this);var l,f=this;return o!==r&&(l=function(e,n,i){if(!0===i)l=!0;else if(!1===i)o=!0;else{if(!i||"object"!=typeof i)throw TypeError("options should be an object or true");var o=i.async,l=i.promisify,f=i.nextTick,h=i.objectify}if(o||f||l){var c=n,u=n._origin||n;if(f&&!s)throw Error("process.nextTick is not supported");l===r&&(l="AsyncFunction"===n.constructor.name),(n=function(){var e=arguments,r=this,n=this.event;return l?f?Promise.resolve():new Promise(function(e){a(e)}).then(function(){return r.event=n,c.apply(r,e)}):(f?t.nextTick:a)(function(){r.event=n,c.apply(r,e)})})._async=!0,n._origin=u}return[n,h?new j(this,e,n):this]}.call(this,e,n,o),n=l[0],f=l[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(function(e,t,r){var n,i,s=0,o=0,l=this.delimiter,a=l.length;if("string"==typeof e)if(-1!==(n=e.indexOf(l))){i=new Array(5);do{i[s++]=e.slice(o,n),o=n+a}while(-1!==(n=e.indexOf(l,o)));i[s++]=e.slice(o)}else i=[e],s=1;else i=e,s=e.length;if(s>1)for(n=0;n+1<s;n++)if("**"===i[n]&&"**"===i[n+1])return;var f,h=this.listenerTree;for(n=0;n<s;n++)if(h=h[f=i[n]]||(h[f]={}),n===s-1)return h._listeners?("function"==typeof h._listeners&&(h._listeners=[h._listeners]),r?h._listeners.unshift(t):h._listeners.push(t),!h._listeners.warned&&this._maxListeners>0&&h._listeners.length>this._maxListeners&&(h._listeners.warned=!0,u.call(this,h._listeners.length,f))):h._listeners=t,!0;return!0}.call(this,e,n,i),f):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=n,f)},T.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var s="string"==typeof e?e.split(this.delimiter):e.slice();if(!(n=E.call(this,null,s,this.listenerTree,0)))return this}else{if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r})}for(var o=0;o<n.length;o++){var l=n[o];if(r=l._listeners,i(r)){for(var a=-1,f=0,h=r.length;f<h;f++)if(r[f]===t||r[f].listener&&r[f].listener===t||r[f]._origin&&r[f]._origin===t){a=f;break}if(a<0)continue;return this.wildcard?l._listeners.splice(a,1):this._events[e].splice(a,1),0===r.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&k(this.listenerTree),this},T.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},T.prototype.removeListener=T.prototype.off,T.prototype.removeAllListeners=function(e){if(e===r)return!this._events||h.call(this),this;if(this.wildcard){var t,n=E.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&k(this.listenerTree)}else this._events&&(this._events[e]=null);return this},T.prototype.listeners=function(e){var t,n,i,s,o,l=this._events;if(e===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!l)return[];for(s=(t=f(l)).length,i=[];s-- >0;)"function"==typeof(n=l[t[s]])?i.push(n):i.push.apply(i,n);return i}if(this.wildcard){if(!(o=this.listenerTree))return[];var a=[],h="string"==typeof e?e.split(this.delimiter):e.slice();return E.call(this,a,h,o,0),a}return l&&(n=l[e])?"function"==typeof n?[n]:n:[]},T.prototype.eventNames=function(e){var t=this._events;return this.wildcard?function e(t,r,n,i){for(var s,o,l,a,h=f(t),c=h.length,u=t._listeners;c-- >0;)s=t[o=h[c]],l="_listeners"===o?n:n?n.concat(o):[o],a=i||"symbol"==typeof o,u&&r.push(a?l:l.join(this.delimiter)),"object"==typeof s&&e.call(this,s,r,l,a);return r}.call(this,this.listenerTree,[],null,e):t?f(t):[]},T.prototype.listenerCount=function(e){return this.listeners(e).length},T.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return E.call(this,t,n,this.listenerTree,0),t.length>0}var i=this._events,s=this._all;return!!(s&&s.length||i&&(e===r?f(i).length:i[e]))},T.prototype.listenersAny=function(){return this._all?this._all:[]},T.prototype.waitFor=function(e,t){var n=this,i=typeof t;return"number"===i?t={timeout:t}:"function"===i&&(t={filter:t}),g((t=_(t,{timeout:0,filter:r,handleError:!1,Promise:Promise,overload:!1},{filter:b,Promise:m})).Promise,function(r,i,s){function o(){var s=t.filter;if(!s||s.apply(n,arguments))if(n.off(e,o),t.handleError){var l=arguments[0];l?i(l):r(p.apply(null,arguments).slice(1))}else r(p.apply(null,arguments))}s(function(){n.off(e,o)}),n._on(e,o,!1)},{timeout:t.timeout,overload:t.overload})};var x=T.prototype;if(Object.defineProperties(T,{defaultMaxListeners:{get:function(){return x._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");x._maxListeners=e},enumerable:!0},once:{value:function(e,t,r){return g((r=_(r,{Promise:Promise,timeout:0,overload:!1},{Promise:m})).Promise,function(r,n,i){var s;if("function"==typeof e.addEventListener)return s=function(){r(p.apply(null,arguments))},i(function(){e.removeEventListener(t,s)}),void e.addEventListener(t,s,{once:!0});var o,l=function(){o&&e.removeListener("error",o),r(p.apply(null,arguments))};"error"!==t&&(o=function(r){e.removeListener(t,l),n(r)},e.once("error",o)),i(function(){o&&e.removeListener("error",o),e.removeListener(t,l)}),e.once(t,l)},{timeout:r.timeout,overload:r.overload})},writable:!0,configurable:!0}}),Object.defineProperties(x,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof e&&e.amd)e(function(){return T});else if("object"==typeof exports)module.exports=T;else{new Function("","return this")().EventEmitter2=T}}();
},{"process":"pBGv"}],"xQGt":[function(require,module,exports) {
var e=require("./ServiceResponse"),i=require("./ServiceRequest"),s=require("eventemitter2").EventEmitter2;function t(e){e=e||{},this.ros=e.ros,this.name=e.name,this.serviceType=e.serviceType,this.isAdvertised=!1,this._serviceCallback=null}t.prototype.__proto__=s.prototype,t.prototype.callService=function(i,s,t){if(!this.isAdvertised){var r="call_service:"+this.name+":"+ ++this.ros.idCounter;(s||t)&&this.ros.once(r,function(i){void 0!==i.result&&!1===i.result?"function"==typeof t&&t(i.values):"function"==typeof s&&s(new e(i.values))});var n={op:"call_service",id:r,service:this.name,type:this.serviceType,args:i};this.ros.callOnConnection(n)}},t.prototype.advertise=function(e){this.isAdvertised||"function"!=typeof e||(this._serviceCallback=e,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},t.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},t.prototype._serviceResponse=function(i){var s={},t=this._serviceCallback(i.args,s),r={op:"service_response",service:this.name,values:new e(s),result:t};i.id&&(r.id=i.id),this.ros.callOnConnection(r)},module.exports=t;
},{"./ServiceResponse":"Dwny","./ServiceRequest":"Dwny","eventemitter2":"gzBW"}],"j15G":[function(require,module,exports) {
var e=require("ws"),t=require("../util/workerSocket"),i=require("./SocketAdapter.js"),o=require("./Service"),n=require("./ServiceRequest"),r=require("object-assign"),s=require("eventemitter2").EventEmitter2;function c(e){e=e||{};var t=this;this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=e.transportLibrary||"websocket",this.transportOptions=e.transportOptions||{},this._sendFunc=function(e){t.sendEncodedMessage(e)},void 0===e.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=e.groovyCompatibility,this.setMaxListeners(0),e.url&&this.connect(e.url)}c.prototype.__proto__=s.prototype,c.prototype.connect=function(o){if("socket.io"===this.transportLibrary)this.socket=r(io(o,{"force new connection":!0}),i(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=r(this.transportLibrary.createDataChannel(o,this.transportOptions),i(this));else if("websocket"===this.transportLibrary){if(!this.socket||this.socket.readyState===e.CLOSED){var n=new e(o);n.binaryType="arraybuffer",this.socket=r(n,i(this))}}else{if("workersocket"!==this.transportLibrary)throw"Unknown transportLibrary: "+this.transportLibrary.toString();this.socket=r(new t(o),i(this))}},c.prototype.close=function(){this.socket&&this.socket.close()},c.prototype.authenticate=function(e,t,i,o,n,r,s){var c={op:"auth",mac:e,client:t,dest:i,rand:o,t:n,level:r,end:s};this.callOnConnection(c)},c.prototype.sendEncodedMessage=function(e){var t=null,i=this;t="socket.io"===this.transportLibrary?function(e){i.socket.emit("operation",e)}:function(e){i.socket.send(e)},this.isConnected?t(e):i.once("connection",function(){t(e)})},c.prototype.callOnConnection=function(e){this.transportOptions.encoder?this.transportOptions.encoder(e,this._sendFunc):this._sendFunc(JSON.stringify(e))},c.prototype.setStatusLevel=function(e,t){var i={op:"set_level",level:e,id:t};this.callOnConnection(i)},c.prototype.getActionServers=function(e,t){var i=new o({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),r=new n({});"function"==typeof t?i.callService(r,function(t){e(t.action_servers)},function(e){t(e)}):i.callService(r,function(t){e(t.action_servers)})},c.prototype.getTopics=function(e,t){var i=new o({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),r=new n;"function"==typeof t?i.callService(r,function(t){e(t)},function(e){t(e)}):i.callService(r,function(t){e(t)})},c.prototype.getTopicsForType=function(e,t,i){var r=new o({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),s=new n({type:e});"function"==typeof i?r.callService(s,function(e){t(e.topics)},function(e){i(e)}):r.callService(s,function(e){t(e.topics)})},c.prototype.getServices=function(e,t){var i=new o({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),r=new n;"function"==typeof t?i.callService(r,function(t){e(t.services)},function(e){t(e)}):i.callService(r,function(t){e(t.services)})},c.prototype.getServicesForType=function(e,t,i){var r=new o({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),s=new n({type:e});"function"==typeof i?r.callService(s,function(e){t(e.services)},function(e){i(e)}):r.callService(s,function(e){t(e.services)})},c.prototype.getServiceRequestDetails=function(e,t,i){var r=new o({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),s=new n({type:e});"function"==typeof i?r.callService(s,function(e){t(e)},function(e){i(e)}):r.callService(s,function(e){t(e)})},c.prototype.getServiceResponseDetails=function(e,t,i){var r=new o({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),s=new n({type:e});"function"==typeof i?r.callService(s,function(e){t(e)},function(e){i(e)}):r.callService(s,function(e){t(e)})},c.prototype.getNodes=function(e,t){var i=new o({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),r=new n;"function"==typeof t?i.callService(r,function(t){e(t.nodes)},function(e){t(e)}):i.callService(r,function(t){e(t.nodes)})},c.prototype.getNodeDetails=function(e,t,i){var r=new o({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),s=new n({node:e});"function"==typeof i?r.callService(s,function(e){t(e.subscribing,e.publishing,e.services)},function(e){i(e)}):r.callService(s,function(e){t(e)})},c.prototype.getParams=function(e,t){var i=new o({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),r=new n;"function"==typeof t?i.callService(r,function(t){e(t.names)},function(e){t(e)}):i.callService(r,function(t){e(t.names)})},c.prototype.getTopicType=function(e,t,i){var r=new o({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),s=new n({topic:e});"function"==typeof i?r.callService(s,function(e){t(e.type)},function(e){i(e)}):r.callService(s,function(e){t(e.type)})},c.prototype.getServiceType=function(e,t,i){var r=new o({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),s=new n({service:e});"function"==typeof i?r.callService(s,function(e){t(e.type)},function(e){i(e)}):r.callService(s,function(e){t(e.type)})},c.prototype.getMessageDetails=function(e,t,i){var r=new o({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),s=new n({type:e});"function"==typeof i?r.callService(s,function(e){t(e.typedefs)},function(e){i(e)}):r.callService(s,function(e){t(e.typedefs)})},c.prototype.decodeTypeDefs=function(e){var t=this,i=function(e,o){for(var n={},r=0;r<e.fieldnames.length;r++){var s=e.fieldarraylen[r],c=e.fieldnames[r],a=e.fieldtypes[r];if(-1===a.indexOf("/"))n[c]=-1===s?a:[a];else{for(var p=!1,f=0;f<o.length;f++)if(o[f].type.toString()===a.toString()){p=o[f];break}if(p){var u=i(p,o);n[c]=-1===s?u:[u]}else t.emit("error","Cannot find "+a+" in decodeTypeDefs")}}return n};return i(e[0],e)},c.prototype.getTopicsAndRawTypes=function(e,t){var i=new o({ros:this,name:"/rosapi/topics_and_raw_types",serviceType:"rosapi/TopicsAndRawTypes"}),r=new n;"function"==typeof t?i.callService(r,function(t){e(t)},function(e){t(e)}):i.callService(r,function(t){e(t)})},module.exports=c;
},{"ws":"kzT2","../util/workerSocket":"HYuo","./SocketAdapter.js":"c2Yk","./Service":"xQGt","./ServiceRequest":"Dwny","object-assign":"J4Nk","eventemitter2":"gzBW"}],"sb67":[function(require,module,exports) {
var e=require("eventemitter2").EventEmitter2,s=require("./Message");function t(e){e=e||{},this.ros=e.ros,this.name=e.name,this.messageType=e.messageType,this.isAdvertised=!1,this.compression=e.compression||"none",this.throttle_rate=e.throttle_rate||0,this.latch=e.latch||!1,this.queue_size=e.queue_size||100,this.queue_length=e.queue_length||0,this.reconnect_on_close=void 0===e.reconnect_on_close||e.reconnect_on_close,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"cbor-raw"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var t=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(e){t.ros.callOnConnection(e),t.waitForReconnect=!1,t.reconnectFunc=function(){t.waitForReconnect||(t.waitForReconnect=!0,t.ros.callOnConnection(e),t.ros.once("connection",function(){t.waitForReconnect=!1}))},t.ros.on("close",t.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(e){t.emit("message",new s(e))}}t.prototype.__proto__=e.prototype,t.prototype.subscribe=function(e){"function"==typeof e&&this.on("message",e),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},t.prototype.unsubscribe=function(e){e&&(this.off("message",e),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},t.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var e=this;this.ros.on("close",function(){e.isAdvertised=!1})}},t.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},t.prototype.publish=function(e){this.isAdvertised||this.advertise(),this.ros.idCounter++;var s={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:e,latch:this.latch};this.ros.callOnConnection(s)},module.exports=t;
},{"eventemitter2":"gzBW","./Message":"Dwny"}],"zisV":[function(require,module,exports) {
var e=require("./Service"),r=require("./ServiceRequest");function a(e){e=e||{},this.ros=e.ros,this.name=e.name}a.prototype.get=function(a,i){var s=new e({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),t=new r({name:this.name});s.callService(t,function(e){var r=JSON.parse(e.value);a(r)},i)},a.prototype.set=function(a,i,s){var t=new e({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),n=new r({name:this.name,value:JSON.stringify(a)});t.callService(n,i,s)},a.prototype.delete=function(a,i){var s=new e({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),t=new r({name:this.name});s.callService(t,a,i)},module.exports=a;
},{"./Service":"xQGt","./ServiceRequest":"Dwny"}],"C7xZ":[function(require,module,exports) {
var e=require("../mixin"),r=module.exports={Ros:require("./Ros"),Topic:require("./Topic"),Message:require("./Message"),Param:require("./Param"),Service:require("./Service"),ServiceRequest:require("./ServiceRequest"),ServiceResponse:require("./ServiceResponse")};e(r.Ros,["Param","Service","Topic"],r);
},{"../mixin":"aCiR","./Ros":"j15G","./Topic":"sb67","./Message":"Dwny","./Param":"zisV","./Service":"xQGt","./ServiceRequest":"Dwny","./ServiceResponse":"Dwny"}],"ioTA":[function(require,module,exports) {
var t=require("../core/Topic"),e=require("../core/Message"),s=require("eventemitter2").EventEmitter2;function i(e){var s=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult,this.goals={};var i=!1;this.feedbackListener=new t({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new t({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new t({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new t({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new t({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe(function(t){i=!0,t.status_list.forEach(function(t){var e=s.goals[t.goal_id.id];e&&e.emit("status",t)})}),this.omitFeedback||this.feedbackListener.subscribe(function(t){var e=s.goals[t.status.goal_id.id];e&&(e.emit("status",t.status),e.emit("feedback",t.feedback))}),this.omitResult||this.resultListener.subscribe(function(t){var e=s.goals[t.status.goal_id.id];e&&(e.emit("status",t.status),e.emit("result",t.result))}),this.timeout&&setTimeout(function(){i||s.emit("timeout")},this.timeout)}i.prototype.__proto__=s.prototype,i.prototype.cancel=function(){var t=new e;this.cancelTopic.publish(t)},i.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},module.exports=i;
},{"../core/Topic":"sb67","../core/Message":"Dwny","eventemitter2":"gzBW"}],"biRb":[function(require,module,exports) {
var e=require("../core/Topic"),s=require("../core/Message"),t=require("eventemitter2").EventEmitter2;function r(s){var t=this;s=s||{},this.ros=s.ros,this.serverName=s.serverName,this.actionName=s.actionName;var r=new e({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),a=new e({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),i=new e({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),o=new e({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});r.subscribe(function(e){t.emit("goal",e)}),i.subscribe(function(e){e.status_list.forEach(function(e){t.emit("status",e)})}),a.subscribe(function(e){t.emit("status",e.status),t.emit("feedback",e.feedback)}),o.subscribe(function(e){t.emit("status",e.status),t.emit("result",e.result)})}r.prototype.__proto__=t.prototype,module.exports=r;
},{"../core/Topic":"sb67","../core/Message":"Dwny","eventemitter2":"gzBW"}],"CbfG":[function(require,module,exports) {
var t=require("../core/Message"),e=require("eventemitter2").EventEmitter2;function i(e){var i=this;this.actionClient=e.actionClient,this.goalMessage=e.goalMessage,this.isFinished=!1;var s=new Date;this.goalID="goal_"+Math.random()+"_"+s.getTime(),this.goalMessage=new t({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(t){i.status=t}),this.on("result",function(t){i.isFinished=!0,i.result=t}),this.on("feedback",function(t){i.feedback=t}),this.actionClient.goals[this.goalID]=this}i.prototype.__proto__=e.prototype,i.prototype.send=function(t){var e=this;e.actionClient.goalTopic.publish(e.goalMessage),t&&setTimeout(function(){e.isFinished||e.emit("timeout")},t)},i.prototype.cancel=function(){var e=new t({id:this.goalID});this.actionClient.cancelTopic.publish(e)},module.exports=i;
},{"../core/Message":"Dwny","eventemitter2":"gzBW"}],"wqJN":[function(require,module,exports) {
var e=require("../core/Topic"),s=require("../core/Message"),t=require("eventemitter2").EventEmitter2;function a(t){var a=this;t=t||{},this.ros=t.ros,this.serverName=t.serverName,this.actionName=t.actionName,this.feedbackPublisher=new e({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var i=new e({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});i.advertise(),this.resultPublisher=new e({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var r=new e({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),l=new e({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new s({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,r.subscribe(function(e){a.currentGoal?(a.nextGoal=e,a.emit("cancel")):(a.statusMessage.status_list=[{goal_id:e.goal_id,status:1}],a.currentGoal=e,a.emit("goal",e.goal))});var o=function(e,s){return!(e.secs>s.secs)&&(e.secs<s.secs||e.nsecs<s.nsecs)};l.subscribe(function(e){0===e.stamp.secs&&0===e.stamp.secs&&""===e.id?(a.nextGoal=null,a.currentGoal&&a.emit("cancel")):(a.currentGoal&&e.id===a.currentGoal.goal_id.id?a.emit("cancel"):a.nextGoal&&e.id===a.nextGoal.goal_id.id&&(a.nextGoal=null),a.nextGoal&&o(a.nextGoal.goal_id.stamp,e.stamp)&&(a.nextGoal=null),a.currentGoal&&o(a.currentGoal.goal_id.stamp,e.stamp)&&a.emit("cancel"))});setInterval(function(){var e=new Date,s=Math.floor(e.getTime()/1e3),t=Math.round(1e9*(e.getTime()/1e3-s));a.statusMessage.header.stamp.secs=s,a.statusMessage.header.stamp.nsecs=t,i.publish(a.statusMessage)},500)}a.prototype.__proto__=t.prototype,a.prototype.setSucceeded=function(e){var t=new s({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(t),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},a.prototype.setAborted=function(e){var t=new s({status:{goal_id:this.currentGoal.goal_id,status:4},result:e});this.resultPublisher.publish(t),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},a.prototype.sendFeedback=function(e){var t=new s({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(t)},a.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new s({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},module.exports=a;
},{"../core/Topic":"sb67","../core/Message":"Dwny","eventemitter2":"gzBW"}],"lBxj":[function(require,module,exports) {
var e=require("../core/Ros"),i=require("../mixin"),r=module.exports={ActionClient:require("./ActionClient"),ActionListener:require("./ActionListener"),Goal:require("./Goal"),SimpleActionServer:require("./SimpleActionServer")};i(e,["ActionClient","SimpleActionServer"],r);
},{"../core/Ros":"j15G","../mixin":"aCiR","./ActionClient":"ioTA","./ActionListener":"biRb","./Goal":"CbfG","./SimpleActionServer":"wqJN"}],"wsVA":[function(require,module,exports) {
function t(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0}t.prototype.add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},t.prototype.multiplyQuaternion=function(t){var i=t.w*this.x+t.y*this.z-t.z*this.y,s=t.w*this.y+t.z*this.x-t.x*this.z,h=t.w*this.z+t.x*this.y-t.y*this.x,y=-t.x*this.x-t.y*this.y-t.z*this.z;this.x=i*t.w+y*-t.x+s*-t.z-h*-t.y,this.y=s*t.w+y*-t.y+h*-t.x-i*-t.z,this.z=h*t.w+y*-t.z+i*-t.y-s*-t.x},t.prototype.clone=function(){return new t(this)},module.exports=t;
},{}],"rf8p":[function(require,module,exports) {
function t(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w="number"==typeof t.w?t.w:1}t.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},t.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t)},t.prototype.invert=function(){this.conjugate(),this.normalize()},t.prototype.multiply=function(t){var i=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,s=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,h=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,o=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;this.x=i,this.y=s,this.z=h,this.w=o},t.prototype.clone=function(){return new t(this)},module.exports=t;
},{}],"nllq":[function(require,module,exports) {
var t=require("./Vector3"),o=require("./Quaternion");function i(i){i=i||{},this.position=new t(i.position),this.orientation=new o(i.orientation)}i.prototype.applyTransform=function(t){this.position.multiplyQuaternion(t.rotation),this.position.add(t.translation);var o=t.rotation.clone();o.multiply(this.orientation),this.orientation=o},i.prototype.clone=function(){return new i(this)},i.prototype.multiply=function(t){var o=t.clone();return o.applyTransform({rotation:this.orientation,translation:this.position}),o},i.prototype.getInverse=function(){var t=this.clone();return t.orientation.invert(),t.position.multiplyQuaternion(t.orientation),t.position.x*=-1,t.position.y*=-1,t.position.z*=-1,t},module.exports=i;
},{"./Vector3":"wsVA","./Quaternion":"rf8p"}],"UpUp":[function(require,module,exports) {
var t=require("./Vector3"),n=require("./Quaternion");function o(o){o=o||{},this.translation=new t(o.translation),this.rotation=new n(o.rotation)}o.prototype.clone=function(){return new o(this)},module.exports=o;
},{"./Vector3":"wsVA","./Quaternion":"rf8p"}],"Qtzf":[function(require,module,exports) {
module.exports={Pose:require("./Pose"),Quaternion:require("./Quaternion"),Transform:require("./Transform"),Vector3:require("./Vector3")};
},{"./Pose":"nllq","./Quaternion":"rf8p","./Transform":"UpUp","./Vector3":"wsVA"}],"OMiG":[function(require,module,exports) {
var e=require("../actionlib/ActionClient"),s=require("../actionlib/Goal"),t=require("../core/Service.js"),r=require("../core/ServiceRequest.js"),i=require("../core/Topic.js"),o=require("../math/Transform");function a(s){s=s||{},this.ros=s.ros,this.fixedFrame=s.fixedFrame||"base_link",this.angularThres=s.angularThres||2,this.transThres=s.transThres||.01,this.rate=s.rate||10,this.updateDelay=s.updateDelay||50;var r=s.topicTimeout||2,i=Math.floor(r),o=Math.floor(1e9*(r-i));this.topicTimeout={secs:i,nsecs:o},this.serverName=s.serverName||"/tf2_web_republisher",this.repubServiceName=s.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this._subscribeCB=null,this._isDisposed=!1,this.actionClient=new e({ros:s.ros,serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=new t({ros:s.ros,name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}a.prototype.processTFArray=function(e){e.transforms.forEach(function(e){var s=e.child_frame_id;"/"===s[0]&&(s=s.substring(1));var t=this.frameInfos[s];t&&(t.transform=new o({translation:e.transform.translation,rotation:e.transform.rotation}),t.cbs.forEach(function(e){e(t.transform)}))},this)},a.prototype.updateGoal=function(){var e={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new s({actionClient:this.actionClient,goalMessage:e}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{e.timeout=this.topicTimeout;var t=new r(e);this.serviceClient.callService(t,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},a.prototype.processResponse=function(e){this._isDisposed||(this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB),this.currentTopic=new i({ros:this.ros,name:e.topic_name,messageType:"tf2_web_republisher/TFArray"}),this._subscribeCB=this.processTFArray.bind(this),this.currentTopic.subscribe(this._subscribeCB))},a.prototype.subscribe=function(e,s){"/"===e[0]&&(e=e.substring(1)),this.frameInfos[e]?this.frameInfos[e].transform&&s(this.frameInfos[e].transform):(this.frameInfos[e]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[e].cbs.push(s)},a.prototype.unsubscribe=function(e,s){"/"===e[0]&&(e=e.substring(1));for(var t=this.frameInfos[e],r=t&&t.cbs||[],i=r.length;i--;)r[i]===s&&r.splice(i,1);s&&0!==r.length||delete this.frameInfos[e]},a.prototype.dispose=function(){this._isDisposed=!0,this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB)},module.exports=a;
},{"../actionlib/ActionClient":"ioTA","../actionlib/Goal":"CbfG","../core/Service.js":"xQGt","../core/ServiceRequest.js":"Dwny","../core/Topic.js":"sb67","../math/Transform":"UpUp"}],"wDpt":[function(require,module,exports) {
var e=require("../core/Ros"),r=require("../mixin"),i=module.exports={TFClient:require("./TFClient")};r(e,["TFClient"],i);
},{"../core/Ros":"j15G","../mixin":"aCiR","./TFClient":"OMiG"}],"bH0H":[function(require,module,exports) {
module.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3};
},{}],"bkWT":[function(require,module,exports) {
var e=require("../math/Vector3"),t=require("./UrdfTypes");function i(i){this.dimension=null,this.type=t.URDF_BOX;var r=i.xml.getAttribute("size").split(" ");this.dimension=new e({x:parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])})}module.exports=i;
},{"../math/Vector3":"wsVA","./UrdfTypes":"bH0H"}],"oRfm":[function(require,module,exports) {
function t(t){var a=t.xml.getAttribute("rgba").split(" ");this.r=parseFloat(a[0]),this.g=parseFloat(a[1]),this.b=parseFloat(a[2]),this.a=parseFloat(a[3])}module.exports=t;
},{}],"yIqp":[function(require,module,exports) {
var t=require("./UrdfTypes");function e(e){this.type=t.URDF_CYLINDER,this.length=parseFloat(e.xml.getAttribute("length")),this.radius=parseFloat(e.xml.getAttribute("radius"))}module.exports=e;
},{"./UrdfTypes":"bH0H"}],"lc36":[function(require,module,exports) {
var e=require("./UrdfColor");function t(t){this.textureFilename=null,this.color=null,this.name=t.xml.getAttribute("name");var r=t.xml.getElementsByTagName("texture");r.length>0&&(this.textureFilename=r[0].getAttribute("filename"));var l=t.xml.getElementsByTagName("color");l.length>0&&(this.color=new e({xml:l[0]}))}t.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var r=require("object-assign");t.prototype.assign=function(e){return r(this,e)},module.exports=t;
},{"./UrdfColor":"oRfm","object-assign":"J4Nk"}],"wtjc":[function(require,module,exports) {
var e=require("../math/Vector3"),t=require("./UrdfTypes");function a(a){this.scale=null,this.type=t.URDF_MESH,this.filename=a.xml.getAttribute("filename");var r=a.xml.getAttribute("scale");if(r){var l=r.split(" ");this.scale=new e({x:parseFloat(l[0]),y:parseFloat(l[1]),z:parseFloat(l[2])})}}module.exports=a;
},{"../math/Vector3":"wsVA","./UrdfTypes":"bH0H"}],"Nvfl":[function(require,module,exports) {
var t=require("./UrdfTypes");function e(e){this.type=t.URDF_SPHERE,this.radius=parseFloat(e.xml.getAttribute("radius"))}module.exports=e;
},{"./UrdfTypes":"bH0H"}],"pm4n":[function(require,module,exports) {
var e=require("../math/Pose"),t=require("../math/Vector3"),a=require("../math/Quaternion"),r=require("./UrdfCylinder"),i=require("./UrdfBox"),n=require("./UrdfMaterial"),s=require("./UrdfMesh"),o=require("./UrdfSphere");function h(h){var l=h.xml;this.origin=null,this.geometry=null,this.material=null,this.name=h.xml.getAttribute("name");var m=l.getElementsByTagName("origin");if(0===m.length)this.origin=new e;else{var M=m[0].getAttribute("xyz"),g=new t;M&&(M=M.split(" "),g=new t({x:parseFloat(M[0]),y:parseFloat(M[1]),z:parseFloat(M[2])}));var c=m[0].getAttribute("rpy"),u=new a;if(c){c=c.split(" ");var y=parseFloat(c[0])/2,p=parseFloat(c[1])/2,d=parseFloat(c[2])/2,w=Math.sin(y)*Math.cos(p)*Math.cos(d)-Math.cos(y)*Math.sin(p)*Math.sin(d),x=Math.cos(y)*Math.sin(p)*Math.cos(d)+Math.sin(y)*Math.cos(p)*Math.sin(d),f=Math.cos(y)*Math.cos(p)*Math.sin(d)-Math.sin(y)*Math.sin(p)*Math.cos(d),v=Math.cos(y)*Math.cos(p)*Math.cos(d)+Math.sin(y)*Math.sin(p)*Math.sin(d);(u=new a({x:w,y:x,z:f,w:v})).normalize()}this.origin=new e({position:g,orientation:u})}var q=l.getElementsByTagName("geometry");if(q.length>0){for(var F=q[0],N=null,U=0;U<F.childNodes.length;U++){var b=F.childNodes[U];if(1===b.nodeType){N=b;break}}var z=N.nodeName;"sphere"===z?this.geometry=new o({xml:N}):"box"===z?this.geometry=new i({xml:N}):"cylinder"===z?this.geometry=new r({xml:N}):"mesh"===z?this.geometry=new s({xml:N}):console.warn("Unknown geometry type "+z)}var B=l.getElementsByTagName("material");B.length>0&&(this.material=new n({xml:B[0]}))}module.exports=h;
},{"../math/Pose":"nllq","../math/Vector3":"wsVA","../math/Quaternion":"rf8p","./UrdfCylinder":"yIqp","./UrdfBox":"bkWT","./UrdfMaterial":"lc36","./UrdfMesh":"wtjc","./UrdfSphere":"Nvfl"}],"nuUz":[function(require,module,exports) {
var e=require("./UrdfVisual");function s(s){this.name=s.xml.getAttribute("name"),this.visuals=[];for(var t=s.xml.getElementsByTagName("visual"),a=0;a<t.length;a++)this.visuals.push(new e({xml:t[a]}))}module.exports=s;
},{"./UrdfVisual":"pm4n"}],"R8Ff":[function(require,module,exports) {
var t=require("../math/Pose"),e=require("../math/Vector3"),a=require("../math/Quaternion");function i(i){this.name=i.xml.getAttribute("name"),this.type=i.xml.getAttribute("type");var s=i.xml.getElementsByTagName("parent");s.length>0&&(this.parent=s[0].getAttribute("link"));var n=i.xml.getElementsByTagName("child");n.length>0&&(this.child=n[0].getAttribute("link"));var r=i.xml.getElementsByTagName("limit");r.length>0&&(this.minval=parseFloat(r[0].getAttribute("lower")),this.maxval=parseFloat(r[0].getAttribute("upper")));var h=i.xml.getElementsByTagName("origin");if(0===h.length)this.origin=new t;else{var l=h[0].getAttribute("xyz"),o=new e;l&&(l=l.split(" "),o=new e({x:parseFloat(l[0]),y:parseFloat(l[1]),z:parseFloat(l[2])}));var m=h[0].getAttribute("rpy"),M=new a;if(m){m=m.split(" ");var g=parseFloat(m[0])/2,p=parseFloat(m[1])/2,c=parseFloat(m[2])/2,u=Math.sin(g)*Math.cos(p)*Math.cos(c)-Math.cos(g)*Math.sin(p)*Math.sin(c),x=Math.cos(g)*Math.sin(p)*Math.cos(c)+Math.sin(g)*Math.cos(p)*Math.sin(c),v=Math.cos(g)*Math.cos(p)*Math.sin(c)-Math.sin(g)*Math.sin(p)*Math.cos(c),y=Math.cos(g)*Math.cos(p)*Math.cos(c)+Math.sin(g)*Math.sin(p)*Math.sin(c);(M=new a({x:u,y:x,z:v,w:y})).normalize()}this.origin=new t({position:o,orientation:M})}}module.exports=i;
},{"../math/Pose":"nllq","../math/Vector3":"wsVA","../math/Quaternion":"rf8p"}],"MKtd":[function(require,module,exports) {
exports.DOMImplementation=window.DOMImplementation,exports.XMLSerializer=window.XMLSerializer,exports.DOMParser=window.DOMParser;
},{}],"w2GF":[function(require,module,exports) {
var e=require("./UrdfMaterial"),a=require("./UrdfLink"),i=require("./UrdfJoint"),t=require("@xmldom/xmldom").DOMParser,n=9;function s(n){var s=(n=n||{}).xml,r=n.string;(this.materials={},this.links={},this.joints={},r)&&(s=(new t).parseFromString(r,"text/xml"));var m=s.documentElement;this.name=m.getAttribute("name");for(var l=m.childNodes,o=0;o<l.length;o++){var h=l[o];if("material"===h.tagName){var u=new e({xml:h});void 0!==this.materials[u.name]?this.materials[u.name].isLink()?this.materials[u.name].assign(u):console.warn("Material "+u.name+"is not unique."):this.materials[u.name]=u}else if("link"===h.tagName){var v=new a({xml:h});if(void 0!==this.links[v.name])console.warn("Link "+v.name+" is not unique.");else{for(var d=0;d<v.visuals.length;d++){var f=v.visuals[d].material;null!==f&&f.name&&(void 0!==this.materials[f.name]?v.visuals[d].material=this.materials[f.name]:this.materials[f.name]=f)}this.links[v.name]=v}}else if("joint"===h.tagName){var g=new i({xml:h});this.joints[g.name]=g}}}module.exports=s;
},{"./UrdfMaterial":"lc36","./UrdfLink":"nuUz","./UrdfJoint":"R8Ff","@xmldom/xmldom":"MKtd"}],"mxNg":[function(require,module,exports) {
module.exports=require("object-assign")({UrdfBox:require("./UrdfBox"),UrdfColor:require("./UrdfColor"),UrdfCylinder:require("./UrdfCylinder"),UrdfLink:require("./UrdfLink"),UrdfMaterial:require("./UrdfMaterial"),UrdfMesh:require("./UrdfMesh"),UrdfModel:require("./UrdfModel"),UrdfSphere:require("./UrdfSphere"),UrdfVisual:require("./UrdfVisual")},require("./UrdfTypes"));
},{"object-assign":"J4Nk","./UrdfBox":"bkWT","./UrdfColor":"oRfm","./UrdfCylinder":"yIqp","./UrdfLink":"nuUz","./UrdfMaterial":"lc36","./UrdfMesh":"wtjc","./UrdfModel":"w2GF","./UrdfSphere":"Nvfl","./UrdfVisual":"pm4n","./UrdfTypes":"bH0H"}],"NS2Y":[function(require,module,exports) {
var e=this.ROSLIB||{REVISION:"1.4.1"},r=require("object-assign");r(e,require("./core")),r(e,require("./actionlib")),r(e,require("./math")),r(e,require("./tf")),r(e,require("./urdf")),module.exports=e;
},{"object-assign":"J4Nk","./core":"C7xZ","./actionlib":"lBxj","./math":"Qtzf","./tf":"wDpt","./urdf":"mxNg"}],"lWk5":[function(require,module,exports) {
module.exports="error.a55b7abb.mp3";
},{}],"mf8o":[function(require,module,exports) {
module.exports="success.7f1b949d.mp3";
},{}],"XBwM":[function(require,module,exports) {
module.exports="paused.0073a2c9.mp3";
},{}],"EVxB":[function(require,module,exports) {
"use strict";var e=this&&this.__spreadArray||function(e,t,s){if(s||2===arguments.length)for(var a,i=0,o=t.length;i<o;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=require("roslib"),a=t(require("./audio/error.mp3")),i=t(require("./audio/success.mp3")),o=t(require("./audio/paused.mp3"));function n(e){return new Promise(function(t){return setTimeout(t,e)})}var r=function(){function t(e){if(this.ipAddressElement=document.getElementById("ipAddressElement"),this.loadAudioSnippets(),this.debugTopicDisplayElement=document.getElementById("debug_topic_display"),!this.debugTopicDisplayElement)throw new Error("Element with ID debug_topic_display not found.");if(this.cameraElement=document.getElementById("ros_img"),!this.cameraElement)throw new Error("Element with ID ros_img not found.");if(this.templatesDropdownElement=document.getElementById("template_dropdown"),this.cameraCorrectionElement=document.getElementById("img_corrections"),!this.cameraCorrectionElement)throw new Error("Element with ID img_corrections not found.");if(this.trashBin=document.getElementById("trash-bin"),this.localize_button=document.getElementById("localize_button"),this.automatic_template_button=document.getElementById("automatic_template"),this.templateRecordElement=document.getElementById("template_name_record"),this.speedFactorElement=document.getElementById("speed_factor"),this.statusRecordingElement=document.getElementById("statusRecording"),this.statusExecutingElement=document.getElementById("statusExecuting"),this.statusPausedElement=document.getElementById("statusPaused"),this.statusSpiralingElement=document.getElementById("statusSpiraling"),this.statusCameraFeedbackElement=document.getElementById("statusCameraFeedback"),this.statusStiffnessElement=document.getElementById("statusStiffness"),this.statusGripperElement=document.getElementById("statusGripper"),this.trajectoriesDropdownElement=document.getElementById("trajectories_dropdown"),this.skillsDropdownElement=document.getElementById("skills_dropdown"),!this.trajectoriesDropdownElement)throw new Error("Element with ID trajectories_dropdown not found.");this.availableTrajectories=[],this.availableSkills=[],this.availableTemplates=[],this.record_text_field=document.getElementById("recording_name"),this.startApp(e)}return t.prototype.startApp=function(e){var t=this,a="ws://"+e+":9090";console.log("Connecting to ROS at "+a),this.ros=new s.Ros({url:a}),this.debug_topic=new s.Topic({ros:this.ros,name:"/debug",messageType:"std_msgs/String"}),this.recording_topic=new s.Topic({ros:this.ros,name:"/recording",messageType:"std_msgs/Bool"}),this.camera_topic=new s.Topic({ros:this.ros,name:"/camera/color/image_raw/compressed",messageType:"sensor_msgs/CompressedImage"}),this.camera_correction_topic_compressed=new s.Topic({ros:this.ros,name:"/sift_compressed/compressed",messageType:"sensor_msgs/CompressedImage"}),this.order_menu=document.getElementById("menuContainer"),this.setupRosTopic(),this.setupCameraRosTopic(),this.setupCameraCorrectionsRosTopic(),this.home_client=new s.ActionClient({ros:this.ros,serverName:"/lfdHome",actionName:"skills_manager/LfdHomeAction"}),this.home_goal=new s.Goal({actionClient:this.home_client,goalMessage:{height:.25,side:0,front:.46}}),this.home_goal.on("result",function(){t.homing=!1,t.enable_all_main_buttons()},this.home_byod_goal=new s.Goal({actionClient:this.home_client,goalMessage:{height:.15,side:0,front:.45}})),this.home_byod_goal.on("result",function(){t.homing=!1,t.enable_all_main_buttons()},this.record_client=new s.ActionClient({ros:this.ros,serverName:"/lfdRecord",actionName:"skills_manager/LfdRecordAction"})),this.record_goal=new s.Goal({actionClient:this.record_client,goalMessage:{skill_name:"default"}}),this.record_goal.on("result",function(){t.recording=!1,t.refreshTrajectories(),t.enable_all_main_buttons(),t.statusRecordingElement.classList.remove("status-active")},this.record_goal.on("feedback",function(e){!0===e.paused&&(t.playSnippet("paused"),t.statusPausedElement.classList.add("status-active")),!0===e.spiraling&&t.statusSpiralingElement.classList.add("status-active"),!0===e.camera_feedback&&t.statusCameraFeedbackElement.classList.add("status-active"),!0===e.stiffness&&t.statusStiffnessElement.classList.add("status-active"),!0===e.gripper&&t.statusGripperElement.classList.add("status-active"),!1===e.paused&&t.statusPausedElement.classList.remove("status-active"),!1===e.spiraling&&t.statusSpiralingElement.classList.remove("status-active"),!1===e.camera_feedback&&t.statusCameraFeedbackElement.classList.remove("status-active"),!1===e.stiffness&&t.statusStiffnessElement.classList.remove("status-active"),!1===e.gripper&&t.statusGripperElement.classList.remove("status-active")},this.execute_client=new s.ActionClient({ros:this.ros,serverName:"/lfdExecuteSkillSequence",actionName:"skills_manager/LfdExecuteSkillSequenceAction"}))),this.execute_goal=new s.Goal({actionClient:this.execute_client,goalMessage:{skill_names:[],localize_box:!1,speed_factor:1,template_name:{data:"default"}}}),this.execute_goal.on("result",function(){t.executing=!1,t.enable_all_main_buttons(),t.statusExecutingElement.classList.remove("status-active")},this.execute_goal.on("feedback",function(e){!0===e.spiraling&&t.statusSpiralingElement.classList.add("status-active"),!0===e.camera_feedback&&t.statusCameraFeedbackElement.classList.add("status-active"),!0===e.stiffness&&t.statusStiffnessElement.classList.add("status-active"),!0===e.gripper&&t.statusGripperElement.classList.add("status-active"),!1===e.spiraling&&t.statusSpiralingElement.classList.remove("status-active"),!1===e.camera_feedback&&t.statusCameraFeedbackElement.classList.remove("status-active"),!1===e.stiffness&&t.statusStiffnessElement.classList.remove("status-active"),!1===e.gripper&&t.statusGripperElement.classList.remove("status-active")},this.execute_skill_client=new s.ActionClient({ros:this.ros,serverName:"/lfdExecuteSkill",actionName:"skills_manager/LfdExecuteSkillAction"}))),this.execute_skill_goal=new s.Goal({actionClient:this.execute_skill_client,goalMessage:{skill_name:[],localize_box:!1,template_name:"default"}}),this.execute_skill_goal.on("result",function(){t.executing=!1,t.enable_all_main_buttons(),t.statusExecutingElement.classList.remove("status-active")},this.executing=!1),this.recording=!1,this.homing=!1,this.abort_gripper_client=new s.ActionClient({ros:this.ros,serverName:"/abort_gripper",actionName:"skills_manager/AbortGripperAction"}),this.abort_gripper_goal=new s.Goal({actionClient:this.abort_gripper_client,goalMessage:{open:!1}}),this.save_sift_template=new s.Service({ros:this.ros,name:"/saving_sift_template",serviceType:"platonics_vision/SavingTemplate"}),this.list_trajectories=new s.Service({ros:this.ros,name:"/list_trajectories",serviceType:"skills_manager/ListTrajectories"}),this.list_templates=new s.Service({ros:this.ros,name:"/list_templates",serviceType:"skills_manager/ListTemplates"}),this.list_skills=new s.Service({ros:this.ros,name:"/list_skills",serviceType:"skills_manage/ListSkills"}),this.reset_transformation=new s.Service({ros:this.ros,name:"/reset_transformation",serviceType:"std_srvs/Trigger"}),this.refreshTemplates()},t.prototype.restartApp=function(){var e=this.ipAddressElement.value;this.ros.close(),this.startApp(e)},t.prototype.cancel=function(){this.playSnippet("error"),this.execute_client.cancel(),this.record_client.cancel(),this.home_client.cancel(),this.enable_all_main_buttons()},t.prototype.home_gripper=function(){this.abort_gripper_client.cancel(),this.log("Homing gripper"),this.abort_gripper_goal.goalMessage.goal.open=!0,this.abort_gripper_goal.send()},t.prototype.abort_gripper=function(){this.abort_gripper_client.cancel(),this.log("Aborting gripper"),this.abort_gripper_goal.goalMessage.goal.open=!1,this.abort_gripper_goal.send()},t.prototype.selectTrajectory=function(){var e=this.trajectoriesDropdownElement.value,t=document.createElement("div");t.classList.add("menu-item"),t.setAttribute("draggable","true"),t.textContent=e,this.order_menu.appendChild(t),this.addDragAndDropHandlers(t)},t.prototype.selectSkill=function(){var e=this.skillsDropdownElement.value,t=document.createElement("div");t.classList.add("menu-item"),t.setAttribute("draggable","true"),t.textContent=e,this.order_menu.appendChild(t),this.addDragAndDropHandlers(t)},t.prototype.clearMenu=function(){this.order_menu.innerHTML=""},t.prototype.selectTemplate=function(){this.refreshTrajectories(),this.refreshSkills()},t.prototype.addDragAndDropHandlers=function(t){var s=this;t.addEventListener("dragstart",function(){s.draggedItem=t,setTimeout(function(){t.classList.add("dragging")},0)}),t.addEventListener("dragend",function(){setTimeout(function(){t.classList.remove("dragging"),s.draggedItem=null},0)}),t.addEventListener("dragover",function(e){e.preventDefault(),t.classList.add("over")}),t.addEventListener("dragleave",function(){t.classList.remove("over")}),t.addEventListener("drop",function(){if(t.classList.remove("over"),s.draggedItem!==t){var a=t.parentNode,i=e([],a.children,!0);i.indexOf(t)<i.indexOf(s.draggedItem)?a.insertBefore(s.draggedItem,t):a.insertBefore(s.draggedItem,t.nextSibling)}}),this.trashBin.addEventListener("dragover",function(e){e.preventDefault(),s.trashBin.classList.add("over-trash")}),this.trashBin.addEventListener("dragleave",function(){s.trashBin.classList.remove("over-trash")}),this.trashBin.addEventListener("drop",function(){s.trashBin.classList.remove("over-trash"),s.draggedItem&&(s.draggedItem.remove(),s.draggedItem=null)})},t.prototype.saveSiftTemplate=function(){var e={template_name:{data:this.templateRecordElement.value}};this.save_sift_template.callService(e,function(e){console.log("Saving template: "+e.success)})},t.prototype.playSnippet=function(e){var t=this.audioSnippets[e];t?(t.currentTime=0,t.play()):console.error("Audio snippet ".concat(e," not found"))},t.prototype.loadAudioSnippets=function(){this.audioSnippets={success:new Audio(i.default),error:new Audio(a.default),paused:new Audio(o.default)}},t.prototype.refreshTrajectories=function(){var e=this,t=new s.ServiceRequest({});t.template_name=this.templatesDropdownElement.value,this.list_trajectories.callService(t,function(t){e.availableTrajectories=t.trajectories,e.availableTrajectories.unshift("---select---"),e.updateTrajectoriesDropdown()})},t.prototype.refreshSkills=function(){var e=this,t=new s.ServiceRequest({});t.template_name=this.templatesDropdownElement.value,this.list_skills.callService(t,function(t){e.availableSkills=t.skills,e.availableSkills.unshift("---select---"),e.updateSkillsDropdown()})},t.prototype.refreshTemplates=function(){var e=this;this.list_templates.callService(new s.ServiceRequest({}),function(t){e.availableTemplates=t.templates,e.availableTemplates.unshift("---select---"),e.updateTemplatesDropdown()})},t.prototype.resetTransformation=function(){this.reset_transformation.callService(new s.ServiceRequest({}),function(e){console.log("Reset transformation")})},t.prototype.updateTemplatesDropdown=function(){var t=this,s=e([],this.availableTemplates,!0).sort();this.templatesDropdownElement.innerHTML="",s.forEach(function(e){var s=document.createElement("option");s.value=e,s.textContent=e,t.templatesDropdownElement.appendChild(s)})},t.prototype.updateTrajectoriesDropdown=function(){var t=this,s=e([],this.availableTrajectories,!0).sort();this.trajectoriesDropdownElement.innerHTML="",s.forEach(function(e){var s=document.createElement("option");s.value=e,s.textContent=e,t.trajectoriesDropdownElement.appendChild(s)})},t.prototype.updateSkillsDropdown=function(){var t=this,s=e([],this.availableSkills,!0).sort();this.skillsDropdownElement.innerHTML="",s.forEach(function(e){var s=document.createElement("option");s.value=e,s.textContent=e,t.skillsDropdownElement.appendChild(s)})},t.prototype.disable_all_main_buttons=function(){for(var e=document.getElementsByClassName("main-button"),t=0;t<e.length;t++)e[t].setAttribute("disabled","true")},t.prototype.enable_all_main_buttons=function(){for(var e=document.getElementsByClassName("main-button"),t=0;t<e.length;t++)e[t].removeAttribute("disabled")},t.prototype.sendHome=function(){this.disable_all_main_buttons(),this.homing=!0,this.home_goal.send()},t.prototype.sendHomeBYOD=function(){this.disable_all_main_buttons(),this.homing=!0,this.home_byod_goal.send()},t.prototype.execute_skill=function(){var e=document.getElementsByClassName("menu-item");console.log("executing skill"),this.execute_skill_goal.goalMessage.goal.skill_name=e[0].textContent,console.log(e[0].textContent),this.automatic_template_button.checked?this.execute_skill_goal.goalMessage.goal.template_name="":this.execute_skill_goal.goalMessage.goal.template_name=this.templatesDropdownElement.value,this.execute_skill_goal.goalMessage.goal.localize_box=this.localize_button.checked,this.disable_all_main_buttons(),this.execute_skill_goal.send()},t.prototype.execute=function(){this.statusExecutingElement.classList.add("status-active");for(var e=document.getElementsByClassName("menu-item"),t=[],s=0;s<e.length;s++)t.push(e[s].textContent||"");this.execute_goal.goalMessage.goal.template_name=this.templatesDropdownElement.value,this.execute_goal.goalMessage.goal.skill_names=t,this.execute_goal.goalMessage.goal.speed_factor=parseFloat(this.speedFactorElement.value),this.execute_goal.goalMessage.goal.localize_box=this.localize_button.checked,this.disable_all_main_buttons(),this.execute_goal.send()},t.prototype.record=function(){this.disable_all_main_buttons(),this.statusRecordingElement.classList.add("status-active"),this.record_goal.goalMessage.goal.skill_name=this.record_text_field.value,this.record_goal.goalMessage.goal.template_name=this.templatesDropdownElement.value,this.record_goal.send()},t.prototype.setupCameraRosTopic=function(){var e=this;this.camera_topic.subscribe(function(t){e.cameraElement.src="data:image/jpeg;base64,"+t.data})},t.prototype.setupCameraCorrectionsRosTopic=function(){var e=this;this.camera_correction_topic_compressed.subscribe(function(t){console.log("Received camera correction"),e.cameraCorrectionElement.src="data:image/jpeg;base64,"+t.data})},t.prototype.setupRosTopic=function(){var e=this;this.debug_topic.subscribe(function(t){var s=document.createElement("div");s.classList.add("debug-message"),s.textContent=t.data,e.debugTopicDisplayElement.prepend(s);var a=e.debugTopicDisplayElement.querySelectorAll(".debug-message");if(a.length>3){var i=a[a.length-1];i.style.opacity="0",setTimeout(function(){return i.remove()},500)}})},t.prototype.startDataRecord=function(){this.recording_topic.publish({data:!0})},t.prototype.stopDataRecord=function(){this.recording_topic.publish({data:!1})},t.prototype.log=function(e){this.debug_topic.publish({data:e})},t}();document.addEventListener("DOMContentLoaded",function(){var e=new r("172.16.0.3");window.app=e});
},{"roslib":"NS2Y","./audio/error.mp3":"lWk5","./audio/success.mp3":"mf8o","./audio/paused.mp3":"XBwM"}]},{},["EVxB"], null)
//# sourceMappingURL=app.87e90a33.js.map